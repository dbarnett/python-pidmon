* add more automated tests
* optimize to reduce extraneous system calls
* optimize to use os.waitpid directly when possible
